% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/phenokio.R
\name{phenokio}
\alias{phenokio}
\title{Grain Morphometric Analysis from Digital Images}
\usage{
phenokio(
  input_folder,
  output_folder,
  image_real_cm = c(20, 20),
  lower_hsv = c(0L, 0L, 0L),
  upper_hsv = c(180L, 255L, 255L),
  extra_hsv = NULL,
  margin = 0L,
  k_open = c(5L, 5L),
  k_close = c(7L, 7L),
  open_iter = 1L,
  close_iter = 2L,
  fill_holes = FALSE,
  min_component_area_px = 200L,
  object_min_area_cm2 = 0.01,
  rel_min_frac_of_largest = 0,
  max_keep = 2000L,
  outline_color = "green",
  outline_thickness = 2L,
  ignore_processed_images = TRUE
)
}
\arguments{
\item{input_folder}{Character. Path to the directory containing raw grain images (JPG, PNG).}

\item{output_folder}{Character. Path where processed images and the CSV result will be saved.}

\item{image_real_cm}{Numeric vector. Physical dimensions of the captured image area, e.g., c(width, height) in cm. Default is c(20, 20).}

\item{lower_hsv}{Integer vector. Lower bound for HSV color segmentation, e.g., c(H, S, V).}

\item{upper_hsv}{Integer vector. Upper bound for HSV color segmentation, e.g., c(H, S, V).}

\item{extra_hsv}{List of lists. Additional HSV ranges to include (useful for dark hilums or patterned seeds).
Each sub-list should contain 'lower' and 'upper' vectors.}

\item{margin}{Integer. Number of pixels to exclude from the image borders.}

\item{k_open}{Integer vector. Kernel size for morphological 'Opening' to remove background noise (dust).}

\item{k_close}{Integer vector. Kernel size for morphological 'Closing' to bridge cracks or gaps within seeds.}

\item{open_iter}{Integer. Number of iterations for the opening operation.}

\item{close_iter}{Integer. Number of iterations for the closing operation.}

\item{fill_holes}{Logical. If TRUE, force-fills internal voids/holes within detected seeds.}

\item{min_component_area_px}{Integer. Minimum pixel area for a candidate object to be considered.}

\item{object_min_area_cm2}{Numeric. Minimum physical area (cm^2) to filter out non-grain debris.}

\item{rel_min_frac_of_largest}{Numeric. Relative filter (0 to 1); ignores objects smaller than this fraction of the largest detected seed.}

\item{max_keep}{Integer. Maximum number of grain objects to extract per image.}

\item{outline_color}{Character. Color of the detection boundary in output images (e.g., "green", "red").}

\item{outline_thickness}{Integer. Thickness of the contour lines in the processed output images.}

\item{ignore_processed_images}{Logical. If TRUE, skips files that already contain "_processed" in their filename.}
}
\value{
A data frame containing morphometric data (Area, Perimeter, Width, Length) for each detected grain.
}
\description{
This function performs high-throughput grain phenotyping by extracting physical traits
(area, perimeter, length, width) from images using OpenCV-based segmentation.
}
\examples{
\dontrun{
# to install phenokio package
if(!require(remotes)) install.packages("remotes")
if (!requireNamespace("phenokio", quietly= TRUE)) {
 remotes::install_github("agronomy4future/phenokio", force= TRUE)
}
library(remotes)
library(phenokio)

# Basic usage for soybean analysis
phenokio(
  input_folder= "path/to/images",
  output_folder= "path/to/results",
  image_real_cm= c(23, 23),
  lower_hsv= c(10, 80, 70),
  upper_hsv= c(35, 255, 255),
  fill_holes= TRUE,
  outline_color= "red"
)
* Github: https://github.com/agronomy4future/phenokio
# All Rights Reserved Â© J.K Kim (kimjk@agronomy4future.com)
}
}
